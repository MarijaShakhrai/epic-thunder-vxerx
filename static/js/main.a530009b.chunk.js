(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],[,function(e,t){e.exports="data:image/png;base64,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"},,,,function(e,t,a){e.exports=a(13)},,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var s=a(0),l=a.n(s),i=a(4),o=a.n(i),c=(a(3),a(10),a(11),a(1)),n=a.n(c);class m extends l.a.Component{constructor(e){super(),this.state={willWatch:e.willWatch}}render(){const e=this.props,t=e.movie,a=e.removeMovie,s=e.addMovieToWillWatch,i=e.removeMovieFromWillWatch;return console.log(n.a),l.a.createElement("div",{className:"card"},l.a.createElement("img",{className:"card-img-top",src:t.backdrop_path?"https://image.tmdb.org/t/p/w500".concat(t.backdrop_path):n.a,alt:""}),l.a.createElement("div",{className:"card-body"},l.a.createElement("h6",{className:"card-title"},t.title),l.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},l.a.createElement("p",{className:"mb-0"},"Rating: ",t.vote_average),!0===this.state.willWatch?l.a.createElement("button",{className:"btn btn-success",onClick:()=>{this.setState({willWatch:!1}),i(t)}},"Remove Will Watch"):l.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:()=>{this.setState({willWatch:!0}),s(t)}},"Will Watch")),l.a.createElement("button",{type:"button",className:"btn",onClick:a.bind(this,t)},"Delete")))}}var r=m,d=a(12);var h=e=>{const t=e.sort_by,a=e.updateSortBy,s=e=>()=>{a(e)};return l.a.createElement("ul",{className:"tabs nav nav-pills"},[{name:"Popularity desc",key:"popularity.desc"},{name:"Revenue desc",key:"revenue.desc"},{name:"Vote average desc",key:"vote_average.desc"}].map(e=>{return l.a.createElement("li",{className:"nav-item"},l.a.createElement("div",{className:(a=e.key,d("nav-link",{active:t===a})),onClick:s(e.key)},e.name));var a}))};var v=e=>{const t=e.page,a=e.totalPage,s=e.nextPage,i=e.prevPage,o=e.toPage,c=e=>()=>{o(e)};return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("button",{className:"btn btn-default",onClick:c(1)},"First"),l.a.createElement("button",{className:"btn btn-default",onClick:i},"Previous"),l.a.createElement("button",{className:"btn"}," ",t),l.a.createElement("button",{className:"btn btn-default",onClick:s},"Next"),l.a.createElement("button",{className:"btn btn-default",onClick:c(a)},"Last")),"Total page: ",a)};var p=e=>{const t=e.movie;return l.a.createElement("div",null,t.title)};class g extends l.a.Component{constructor(){super(),this.getMovies=()=>{console.log("call api");const e="".concat("https://api.themoviedb.org/3","/discover/movie?api_key=").concat("3f4ca4f3a9750da53450646ced312397","&sort_by=").concat(this.state.sort_by,"&page=").concat(this.state.page);console.log(e),fetch(e).then(e=>(console.log("then"),e.json())).then(e=>{console.log(e),this.setState({data:e,movies:e.results})}),console.log("after fetch")},this.removeMovie=e=>{const t=this.state.movies.filter(t=>t.id!==e.id),a=this.state.moviesWillWatch.filter(t=>t.id!==e.id);this.setState({movies:t,moviesWillWatch:a})},this.removeMovieFromWillWatch=e=>{const t=this.state.moviesWillWatch.filter(t=>t.id!==e.id);this.setState({moviesWillWatch:t})},this.updateSortBy=e=>{this.setState({sort_by:e})},this.nextPage=()=>{console.log("nextPage"),this.setState({page:this.state.page===this.state.data.total_pages?this.state.page:this.state.page+1})},this.prevPage=()=>{console.log("prevPage"),this.setState({page:1===this.state.page?this.state.page:this.state.page-1})},this.toPage=e=>{console.log("toPage",e),this.setState({page:e})},this.addMovieToWillWatch=e=>{if(void 0===this.state.moviesWillWatch.find(t=>t.id===e.id)){const t=[...this.state.moviesWillWatch,e];this.setState({moviesWillWatch:t})}},this.state={movies:[],moviesWillWatch:[],sort_by:"popularity.desc",page:1,data:{}}}componentDidMount(){console.log("didMount"),this.getMovies()}componentDidUpdate(e,t){console.log("didUpdate"),console.log("prev",e,t),console.log("prev",this.props,this.state),t.sort_by===this.state.sort_by&&t.page===this.state.page||this.getMovies()}render(){return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-9"},l.a.createElement("div",{className:"row mb-4 mt-4"},l.a.createElement("div",{className:"col-12"},l.a.createElement(h,{sort_by:this.state.sort_by,updateSortBy:this.updateSortBy}))),l.a.createElement("div",{className:"row mb-4"},l.a.createElement("div",{className:"col-12"},l.a.createElement(v,{nextPage:this.nextPage,prevPage:this.prevPage,page:this.state.data.page,totalPage:this.state.data.total_pages,toPage:this.toPage}))),l.a.createElement("div",{className:"row"},this.state.movies.map(e=>l.a.createElement("div",{className:"col-md-6 mb-4 col-sm-12",key:e.id},l.a.createElement(r,{movie:e,willWatch:void 0!==this.state.moviesWillWatch.find(t=>t.id===e.id),removeMovie:this.removeMovie,addMovieToWillWatch:this.addMovieToWillWatch,removeMovieFromWillWatch:this.removeMovieFromWillWatch}))))),l.a.createElement("div",{className:"col-3"},l.a.createElement("div",{className:"row"},"Will Watch: ",this.state.moviesWillWatch.length),l.a.createElement("div",{className:"row"},this.state.moviesWillWatch.map(e=>l.a.createElement("div",{className:"col-12 mb-4",key:e.id},l.a.createElement(p,{movie:e})))))))}}var W=g;o.a.render(l.a.createElement(W,null),document.getElementById("root"))}],[[5,1,2]]]);
//# sourceMappingURL=main.a530009b.chunk.js.map